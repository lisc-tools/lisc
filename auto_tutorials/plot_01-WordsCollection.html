<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Tutorial 01: Words Collection &#8212; lisc 0.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-172328255-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-172328255-1');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          lisc</a>
        <span class="navbar-text navbar-version pull-left"><b>0.2.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../api.html">API</a></li>
                <li><a href="index.html">Tutorials</a></li>
                <li><a href="../auto_examples/index.html">Examples</a></li>
                <li><a href="../reference.html">Reference</a></li>
                <li><a href="https://github.com/lisc-tools/lisc">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-tutorials-plot-01-wordscollection-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="tutorial-01-words-collection">
<span id="sphx-glr-auto-tutorials-plot-01-wordscollection-py"></span><h1>Tutorial 01: Words Collection<a class="headerlink" href="#tutorial-01-words-collection" title="Permalink to this headline">¶</a></h1>
<p>Collecting literature data, including text and metadata for specified search terms.</p>
<section id="words-analysis">
<h2>Words Analysis<a class="headerlink" href="#words-analysis" title="Permalink to this headline">¶</a></h2>
<p>The ‘Words’ approach collects text and meta-data from articles found for requested search terms.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the Words object, which is used for words collection</span>
<span class="kn">from</span> <span class="nn">lisc</span> <span class="kn">import</span> <a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class"><span class="n">Words</span></a>

<span class="c1"># Import the SCDB object, which organizes a database structure for saved data</span>
<span class="kn">from</span> <span class="nn">lisc.utils.db</span> <span class="kn">import</span> <span class="n">SCDB</span>

<span class="c1"># Import a utility function for saving out collected data</span>
<span class="kn">from</span> <span class="nn">lisc.utils.io</span> <span class="kn">import</span> <span class="n">save_object</span>
</pre></div>
</div>
</section>
<section id="words-object">
<h2>Words Object<a class="headerlink" href="#words-object" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words"><code class="xref py py-class docutils literal notranslate"><span class="pre">Words</span></code></a> object is used to collect and analyze text data and article metadata.</p>
<p>Search terms are specified, as previously introduced, to find articles of interest,
from which text data and meta-data is collected.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set some search terms</span>
<span class="n">terms</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;brain&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize Words object and set the terms to search for</span>
<a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a> <span class="o">=</span> <a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class"><span class="n">Words</span></a><span class="p">()</span>
<a href="../generated/lisc.Words.html#lisc.Words.add_terms" title="lisc.Words.add_terms" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-method"><span class="n">words</span><span class="o">.</span><span class="n">add_terms</span></a><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
</pre></div>
</div>
<p>To get started, we will first run a collection of words data, collecting up to
5 articles for each search term, as specified by the <cite>retmax</cite> parameter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Collect words data</span>
<a href="../generated/lisc.Words.html#lisc.Words.run_collection" title="lisc.Words.run_collection" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-method"><span class="n">words</span><span class="o">.</span><span class="n">run_collection</span></a><span class="p">(</span><span class="n">retmax</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<section id="lisc-data-objects">
<h3>LISC Data Objects<a class="headerlink" href="#lisc-data-objects" title="Permalink to this headline">¶</a></h3>
<p>LISC uses custom objects to store collected words data.</p>
<p>The <a class="reference internal" href="../generated/lisc.data.Articles.html#lisc.data.Articles" title="lisc.data.Articles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Articles</span></code></a> object stores data for each collected article.</p>
<p>Collected data includes:</p>
<ul class="simple">
<li><p>titles</p></li>
<li><p>journals</p></li>
<li><p>authors</p></li>
<li><p>publication years</p></li>
<li><p>abstract text</p></li>
<li><p>keywords</p></li>
<li><p>DOIs</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check the collected words data</span>
<span class="nb">print</span><span class="p">(</span><a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a><span class="o">.</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&lt;lisc.data.articles.Articles object at 0x7f8a68da78e0&gt;, &lt;lisc.data.articles.Articles object at 0x7f8a6943d130&gt;]
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check some specific fields of the collected data</span>
<span class="nb">print</span><span class="p">(</span><a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a><span class="o">.</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">n_articles</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a><span class="o">.</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">titles</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>5
[&#39;A sensitive HILIC-MS/MS method for quantification of theanine in rat plasma and tissues: Application to preclinical pharmacokinetic study.&#39;, &#39;Association between surgical volume and outcomes after craniotomy for brain tumor removal: A South Korean nationwide cohort study.&#39;, &#39;Toxicity induced via ingestion of naturally-aged polystyrene microplastics by a small-sized terrestrial bird and its potential role as vectors for the dispersion of these pollutants.&#39;, &quot;Characterizing the propagation pathway of neuropathological events of Alzheimer&#39;s disease using harmonic wavelet analysis.&quot;, &#39;Pilomotor seizures in autoimmune limbic encephalitis: description of two GAD65 antibodies- related cases and literature review.&#39;]
</pre></div>
</div>
</section>
</section>
<section id="word-collections">
<h2>Word Collections<a class="headerlink" href="#word-collections" title="Permalink to this headline">¶</a></h2>
<p>Collected words data from articles can become quite large. We will often want to use
some of the available EUtils settings to help control what is collected, and how the data
collection proceeds.</p>
<p>In the next example, we’ll revisit the same search terms we used in the previous
co-occurence analysis, and explore some of these settings.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set search terms of interest</span>
<span class="n">terms</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;frontal lobe&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;temporal lobe&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;parietal lobe&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;occipital lobe&#39;</span><span class="p">]]</span>
<a href="../generated/lisc.Words.html#lisc.Words.add_terms" title="lisc.Words.add_terms" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-method"><span class="n">words</span><span class="o">.</span><span class="n">add_terms</span></a><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Unloading terms.
</pre></div>
</div>
<section id="eutils-settings">
<h3>EUtils Settings<a class="headerlink" href="#eutils-settings" title="Permalink to this headline">¶</a></h3>
<p>The Pubmed EUtils has several settings that can help control searches, including:</p>
<ul class="simple">
<li><p><cite>field</cite> : which part of the record to search for search results</p></li>
<li><p><cite>retmax</cite> : the maximum number of records to return for a given search</p></li>
<li><p><cite>usehistory</cite> : whether to temporarily store results remotely and use them for interim requests</p></li>
</ul>
<p>For some general guidelines:</p>
<ul class="simple">
<li><p>the <cite>field</cite> setting defaults to <cite>TIAB</cite> for titles and abstracts</p></li>
<li><p>the <cite>retmax</cite> should be set to an upper bound for the number of articles you would like
to collect, especially if your search terms are likely to return a large number of articles</p></li>
<li><p>the <cite>usehistory</cite> parameter should be set to True if you are running a large collection,
as this is more efficient</p></li>
</ul>
</section>
<section id="word-collection-settings">
<h3>Word Collection Settings<a class="headerlink" href="#word-collection-settings" title="Permalink to this headline">¶</a></h3>
<p>For larger collections, the collectio my take a while and return a large amount of data.</p>
<p>Because of this, the <a class="reference internal" href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words"><code class="xref py py-class docutils literal notranslate"><span class="pre">Words</span></code></a> object allows for continuously saving collected data.
If set to True, the <cite>save_and_clear</cite> parameter saves out collected data, and clears the
object per term, so that collected data does not have to stay in RAM.</p>
<p>Now, let’s run our bigger collection, using some of these settings.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up our database object, so we can save out data as we go</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">SCDB</span><span class="p">(</span><span class="s1">&#39;lisc_db&#39;</span><span class="p">)</span>

<span class="c1"># Collect words data</span>
<a href="../generated/lisc.Words.html#lisc.Words.run_collection" title="lisc.Words.run_collection" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-method"><span class="n">words</span><span class="o">.</span><span class="n">run_collection</span></a><span class="p">(</span><span class="n">usehistory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">retmax</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">save_and_clear</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="n">db</span><span class="p">)</span>
</pre></div>
</div>
<p>After this collection, the Words object does not actually include the collected data,
as the data was saved and cleared throughout the collection.</p>
<p>The Words object does still have all the information about the search terms, which we can
use to reload our data, so it is still worth saving as well.</p>
<p>We will analyze our words data in the next tutorial. For now lets save out the Words object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save out the words data</span>
<span class="n">save_object</span><span class="p">(</span><a href="../generated/lisc.Words.html#lisc.Words" title="lisc.Words" class="sphx-glr-backref-module-lisc sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">words</span></a><span class="p">,</span> <span class="s1">&#39;tutorial_words&#39;</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="n">db</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  7.204 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-tutorials-plot-01-wordscollection-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/9f06023fc1faf31be849407264f3c765/plot_01-WordsCollection.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_01-WordsCollection.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/dbca71718513b176286f40a28f831bca/plot_01-WordsCollection.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_01-WordsCollection.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018-2022, Thomas Donoghue.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>